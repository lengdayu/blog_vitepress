# 手写 call、apply、bind

## call

```js
function _call(Fn, obj, ...args) {
  //如果obj为null或者undefined则指向全局对象
  if (obj === undefined || obj === null) {
    obj = globalThis;
  }
  //为obj添加临时的方法
  obj.temp = Fn;
  //调用temp方法
  let result = obj.temp(...args);
  //删除temp方法
  delete obj.temp;
  //返回执行结果
  return result;
}

function myAdd(num1, num2) {
  return num1 + num2 + this.num3;
}

let obj = {
  num3: 1000,
};

console.log(_call(myAdd, obj, 10, 100)); //1110
global.num3 = 10000;
console.log(_call(myAdd, null, 10, 100)); //10110
```

## apply

```js
function _apply(Fn, obj, args) {
  //如果obj为null或者undefined则指向全局对象
  if (obj === undefined || obj === null) {
    obj = globalThis;
  }
  //为obj添加临时的方法
  obj.temp = Fn;
  //调用temp方法
  let result = obj.temp(...args);
  //删除temp方法
  delete obj.temp;
  //返回执行结果
  return result;
}

function myAdd(num1, num2) {
  return num1 + num2 + this.num3;
}

let obj = {
  num3: 1000,
};

console.log(_apply(myAdd, obj, [10, 100])); //1110
global.num3 = 10000;
console.log(_apply(myAdd, null, [10, 100])); //10110
```

## bind

```js
function _call(Fn, obj, ...args) {
  //如果obj为null或者undefined则指向全局对象
  if (obj === undefined || obj === null) {
    obj = globalThis;
  }
  //为obj添加临时的方法
  obj.temp = Fn;
  //调用temp方法
  let result = obj.temp(...args);
  //删除temp方法
  delete obj.temp;
  //返回执行结果
  return result;
}

function myAdd(num1, num2) {
  return num1 + num2 + this.num3;
}

let obj = {
  num3: 1000,
};

function _bind(Fn, obj, ...args) {
  //返回一个新函数
  return function (...args2) {
    return _call(Fn, obj, ...args, ...args2);
  };
}

let myBind = _bind(myAdd, obj);
console.log(myBind(10, 100)); //1110
```
